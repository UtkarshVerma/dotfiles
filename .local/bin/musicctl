#!/bin/sh
# Wrapper script for controlling music across mpd and MPRIS.
# It mimics the CLI arguments of mpc.

exec >/dev/null 2>&1
if playerctl status; then
    set -- --player=spotify,mpv,%any
    case "$1" in
        "seek" | "volume") set -- "$1" "${2#?}${2%%[[:digit:]]*}" ;;
        "toggle") set -- "$@" play-pause ;;
        "prev") set -- "$@" previous ;;
        *) set -- "$@" "$1" ;;
    esac

    exec playerctl "$@"
fi

exec mpc "$@"
