#!/bin/sh
# This script opens a dropdown menu containing system actions.

case "$XDG_CURRENT_DESKTOP" in
    "sway")
        lockCmd="swaylock"
        logoutCmd="swaymsg exit"
        ;;
    "Hyprland")
        lockCmd="swaylock"
        logoutCmd="hyprctl dispatch exit placebo"
        ;;
    *)
        lockCmd="slock"
        logoutCmd="pkill -TERM -u $USER dwm"
        displayOffCmd="xset dpms force off"
        ;;
esac

choices="\
ğŸ”’ Lock:$lockCmd
ğŸšª Logout:$logoutCmd
ğŸ’¤ Sleep:systemctl suspend
ğŸ» Hibernate:systemctl hibernate
ğŸ”ƒ Reboot:systemctl reboot
ğŸ’» Shutdown:systemctl poweroff
ğŸ“º Display off:$displayOffCmd"

choice="$(echo "$choices" | cut -d':' -f1 | dmenu -i -p "Action:")" || exit 1
exec $(echo "$choices" | grep "^$choice" | cut -d':' -f2)
