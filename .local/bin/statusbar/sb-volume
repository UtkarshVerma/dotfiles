#!/bin/sh
# Display volume levels.

case "$BLOCK_BUTTON" in
    1) setsid --fork terminal -e pulsemixer ;;
    2) pamixer -t ;;
    4) pamixer -i 3 ;;
    5) pamixer -d 3 ;;
    6) terminal -e "$EDITOR" "$0" ;;
esac

. sb-theme
if [ "$(pamixer --get-mute)" = true ]; then
    display " " 9
    exit
fi

volume="$(pamixer --get-volume)"
if [ -z "$volume" ]; then
    exit 1
fi

if [ "$volume" -gt 40 ]; then
    icon=" "
elif [ "$volume" -gt 15 ]; then
    icon=" "
else
    icon=" "
fi

display "$icon$volume%"
